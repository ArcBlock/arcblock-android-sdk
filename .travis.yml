language: android
sudo: false
android:
  components:
  - build-tools-27.0.3
  - android-27
  - extra-android-m2repository
  - extra-android-support
script:
- make build
notifications:
  slack:
    secure: m36gNVIJSXcpw0ByOvulwEaIl9BWulj0Y4pHbW86FW1RyuViQ2Py/FsZACG7j1+8cqPueB9n61fvjtqz0GJcBsPPRgc6407nDvUUAbasgbU153evAfikElug93P8NHRV63LrSDxVKcuTp0FxPMd9OQYsbVgXDdh020VBdS+meJ/WYPwFI5YMWsS1Wera+dZUFizZyxBOfAd3p+z3wH/PyzVfLsD1QBQu6XCpVvVnY6UFBONEBH7uvAiFsapPFxQhpuvkk/ktMuOa6KbNsariX7k1sEf4w4lysv8R9oYfYEwOpwt+kC8p3vX3f+nv+B1RBoPRkslc3+5ew48koobmlXu+jQFOWMOH9RAl3pqzvQRfVJPZH4maRj4cP30RDLEiiHy20Llqh/g+aWDVGP7fDLX5i9YhX8xbYS6s0l0lgBPpE07BlOqFrNBMRuRDV5CJX8IhrHE6bVJRpU67CIMBjWtsWXWJ30clhSZBfBJxg2LmeI5+cFx1Jd7fa+1oGkUr/V5HmkUJI715xyYkzKg4nedPAhNEGUPr6QjIIEDhDbNvOcl8DgVbWxgdmN30uplljQCn2yluxkbRocP1L5e/a3jVkvwhQAIxtFXo+BeE7oEwj6UTQg+J0zKNSGJHvV+DeD1o+fXAFK8cRLDxzPN72NnyBcJczrAzvXM+Rwx+dJ4=
before_install:
- openssl aes-256-cbc -K $encrypted_27ddda8dd36c_key -iv $encrypted_27ddda8dd36c_iv
  -in crosscourse.jks.enc -out crosscourse.jks -d
- make travis-init
deploy:
  provider: releases
  api_key:
    secure: ZDzDIfJ1OmQib195rYCoXVzasAYts1vyF0Mwz1KAm5Gfkgh02qIpONQo/5JGCJwcLmeslcVIHxom7EWcM44ZMp/rRkOKMimffsqt458Hsz9HAYd2plUje2M/ssFFEUaIlnVurEuJ34qSI4tk8KuOjVF65toDVrugEL7URgD8DwLJakJa+PlKGPoNYvIANfcUyKd3wnuMj1Vxvhqwu9sEkyVUgTccU0sS42qMBHqXygOTpqUa0tXjfu7Py4Dcd72uI1VJ7omEHWhMxNld/9MNTFmCBqxB3fcf00Mwj7dQbryLY6SzhFtze/pf2ZO+Dartgp/D5d36IEiLkigkXve4GXjfLk839iEhCf9hoLCfDyfnpRwHEuGkJj2l/f+9q5pznUuUOjx+QOjSWAW6gCGAH863tLhGd03vccOqmMCAAtmRXdAbJERVH4921lf0EHgJjXDTOP7tHWx5lKC1fryVCklzmHWozGE1ANEycesoFvXF4ayXB2a8nT+mguI/Q5UlpznIXhRNOmpNKhHQp2sHx9xCr3qehIqnIKQOZSht46VzutPyt4Z7Lyw13A+wzc5pl1mAYP0yVimNPV8JzDRJI5nDuiE6M8O61PUnRhcPyWT58fsWUEQVzB+HP09K2K9nGBfDKCPBfKhIVKgk3glAuLC0/OknLze/CJ/U5xP10F0=
  file: app/build/outputs/apk/release/app-release.apk
  skip_cleanup: true
  on:
    repo: ArcBlock/arcblock-android-sdk
    branch: master
    tags: true
after_deploy:
- fir p app/build/outputs/apk/release/app-release.apk -T $FIR_TOKEN -c "`git cat-file
  tag $TRAVIS_TAG`"
env:
  global:
  - secure: eeQdwXxWaaxIegGKl4ASghHEF4ID+12BLI5d1wqImXo0XiDtmtn0NjXqRGrhrL6Laljc5l5QjFrCJXYPDGk9v5uDo55g+8Qh9HE7U4DtLw4Xtq2213JRBDfziuoVocc6nbVgweEWJgEVriZoinjIMUXIqXHVCWBJPJL1j2+trrnGyQIBinHpiFEdDeO6y5zPQ8yskN7fUJpidy9TXJ5zucq3H/Y+O400/v0NozAcKqbus22eaiNKYJMmx/CqkdDeg6SR2wVdw6wi4Qw18klFHlRBxYIUcEakCGut4rJowVrdf9QnkaVOz1uatiTswzCCUGWQ6IPAt+VbRgd/vIBoQMZBjK0XJgxcSlqBUfyon9v7BnqbnbF6nq5r911XDcET9w2x8d4lZ4jBM5x0NAbhPvA7jDJcjNUeWcAHXc8Ldy38ejBYtqmTRO1hrI2b25R0Zp9mSf4ahdsq+qSlf0bLnrbBu0HfRkzcGpMJAA+KlzUUDpiS1j9uQhz+9mAg4xsdXz2nVQd7aEOAWtKFIMZG9ZuFv1CYf22BZ1lpEayP6AvotEXTzloGCA1MyWU4hXJjJx2whIHN696Y9nHiaX9dqs5f5W4RQ9lb34BJttTcMkdcq8bpeIFlTniCkRTt4XDmp0Yw2BNofCd+uViupvj0Y0+js6nPjZjDya6jmPAEgHY=
  - secure: k4jdFnFv/XYQsdY7Wz8G4lH+JdOn3OJc7Mn2gWITb5L5IeamNpM7oMgtpvtahzNL8j0RKn6AfN7/Vt0m5ty2GweTcEO7Pwq45SBQqf/LIRFZbMGgXDuAWL5fA2oaTbAuVFJeu21J+gQc2SsTy/R4iauE72RkxAaanjdwWpIj13v0oqmxOp1ecZaL61xRfzF0IheQF/lLj5d0UPOXBVoDs01iUXY4UhIlBH6YRlkd1EBgOIVZyZgWy/TmHX6ohmgM5f+KuHHIS3TMqogT1Ps7e6sF+BhckZFSEpwgBE63mHn3sI4iR8lvQUkEQsCAaASwPhr3XynYb4aHp9WMlvTFsCt+dsWsQAMKTXfYjnKXSDZEUbhI7EQ/2aqLSwopHGHNY5PApg7eNmV7euijP3sdtma3ecq3nhm4GXwLf0r725o5BdMNLxJsdt8pZOX/A/sunp7xhP4bjxa5lIjIEji0sOHnf1FC5qQbNbbgCJWEsz/xtAsMVNzB0HcvUf4DOrj2kPLci7Z36hArJ7YK4T+rxDg7b3pe5NOdVHgOIwsSevjCnhPJWdgOzDP5wvZi9FOv74wakrnwaEQH18WRsOtqrNQRgiFnPgvs9RSuw70YRI/XHALIY6eE870OQjPfbY2vjwX+Ao2V/MdG7H7+PQ2hjt+5Fx53B2eqRLTnR2bWBGQ=
  - secure: M+cvTzSCqUjlOauf851G7iXE5/gM9RF1rcZQGzg7XITwIT73G5qpgMmx/DaYb/yY8YR2jJZGu7iSQ1o/6UpFl6amVmYLmYb4PgvZAtGrt8Ufn830b5vOmMriLp4obp6mOxjzlFriasQMQBTCsnqujGdZqOGiFJj6yjQMzkbe8+MZQ10bpalizeKCeHdemqi+Y4Sd9KPKubbOc+0LgHQDW3Js/ZeBjhndQGfh0o8EFvcX+OLWJbYODt/2UEakje7/ig3d/E+mFtshKaGey/vdS/NbOKD4eqCRr2DvqQIBwqedAQxPCC70aFjsPbKM0wIMML3OwPltzHbBptgvW065f2KKgvZt4iYgIERjJdK4RxhlSifd6ucNehKzBYskZjx7V3I6HPkwigRtsU1gI114t04tDjfHYI3pdDzlloiL3FYJ3kT/Bheyam7gpLGYAKrFcmd6DEzuWWKvOIulUcEbp/XtQLJKduLKNENRwz5HAVL21FdlsxMBnmAOQS8+0JXloLBrdz9kUk0NvcC33pfO2o5Dixgk4PxprHCNfgxP8jTR22W9NSEVeC5Pax9Mu7d7+C3PRfguR5djL2ZjFV6/uAI3s0YQL+4sgv6GDhUv3QXD1ipleF/GTxyKQvvEdCfkG0e8QID6TFnpQDa7OVPskGQjVrrLZCz2CjFtnM9GYcU=
  - secure: bk+GoN0xRihqfpI6hIYpO8UK9ULz99u1ju1R5XP3zGpQte/YZCTkoZfSbqb4vPThJvRNeaGRgK8xWatY8Y9wozUIREtWtEd82zuA+gH+sAWn945vFbSA2yJzWz/BfC08b8chV13S1nBONQqVWH6f8b5uHk3GSZCjLceYFssbRsYnQVkDuG2b0qeeKdG9GLYPwPmONgG7VECRUXmUz3sbKy20ohIF1VqiTuv6+dubOHKg9BEw5wsmfKErsaK76nup+e0jt9qP1/sfesaLd4I6ZMmYh+zmeAcb9tQi17iUz3okQaNWtwcXKAhSe7kQuEAABpd9ToN7WY/cyzpL5sFfIx4Zw6UFtTztGD++qbIAYl6miqBvOgNWlBDXXhS2yP5Jv1Kihmb1KlbKXkZsqPkzLYji+cGKIyCNfT+218kuoHPbD8sui0/CCOiXyMe/r288QUF5mQQ7uLmLLZODILEoE3xIULw52RerSjx/oil6oA18iEMqMxGVQ2EomUjRGkVxfvJDnD66ZueFYRiheJF3ALPeQXVatZzbTiWDZSqm9lmeqWkd0QMzHKT/VK9XBmOmGsvkDAjSe5ZP05oHPaNfMWceWrR4OW8RrHjNyNOqavl/VR1h+SWR3utW7dHWsh6Rcu5scEWMoRTVR1WAKWPGx4j+C+92hpBfzx3EnI0ZuQE=

